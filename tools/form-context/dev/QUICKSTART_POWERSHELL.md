# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: PowerShell –≤–µ—Ä—Å–∏—è

> –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞ —á–µ—Ä–µ–∑ PowerShell —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π .env

---

## 1Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

### –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª

```powershell
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä
Copy-Item .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env (—É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è)
notepad .env
```

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `.env`:**
```ini
# –ü—É—Ç—å –∫ 1–° (–µ—Å–ª–∏ –Ω–µ –≤ PATH)
V8_PATH=C:\Program Files\1cv8\8.3.24.1467\bin\1cv8.exe

# –ü—É—Ç—å –∫ –±–∞–∑–µ
INFOBASE_PATH=C:/Bases/Test

# –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
USERNAME_1C=–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
PASSWORD_1C=
```

### –°–æ–∑–¥–∞–π—Ç–µ —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º

```powershell
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª forms.txt
@"
–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞
–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–≠–ª–µ–º–µ–Ω—Ç–∞
"@ | Out-File -Encoding UTF8 tools\form-context\forms.txt
```

---

## 2Ô∏è‚É£ –ó–∞–ø—É—Å–∫

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è)

```powershell
.\tools\form-context\form_context_agent.ps1 `
    -FormsFile "tools\form-context\forms.txt"
```

### –° –æ–∂–∏–¥–∞–Ω–∏–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

```powershell
.\tools\form-context\form_context_agent.ps1 `
    -FormsFile "tools\form-context\forms.txt" `
    -Wait
```

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (–æ–¥–Ω–∞ —Ñ–æ—Ä–º–∞)

```powershell
.\tools\form-context\form_context_agent.ps1 `
    -Forms @("–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è") `
    -Wait
```

---

## 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```powershell
# –°–ø–∏—Å–æ–∫ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º
Get-ChildItem context\forms\*.md

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
Get-Content context\forms\–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.md

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–∞
Get-Content context\forms\index.json | ConvertFrom-Json
```

---

## üîç –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ .env!**

```powershell
# –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–∞–∑—É
.\tools\form-context\form_context_agent.ps1 `
    -InfoBasePath "C:\Bases\Production" `
    -Forms @("–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è") `
    -Wait

# –í–∫–ª—é—á–∏—Ç—å –Ω–µ–≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
.\tools\form-context\form_context_agent.ps1 `
    -FormsFile "forms.txt" `
    -IncludeInvisible `
    -Wait

# –ù–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å 1–° –ø–æ—Å–ª–µ —Å–±–æ—Ä–∞
.\tools\form-context\form_context_agent.ps1 `
    -Forms @("–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã") `
    -NoClose `
    -Wait

# –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
.\tools\form-context\form_context_agent.ps1 `
    -Forms @("–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è") `
    -DebugMode `
    -Wait
```

---

## ‚ö†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### 1cv8.exe –Ω–µ –Ω–∞–π–¥–µ–Ω

```
–û–®–ò–ë–ö–ê: 1C:Enterprise platform (1cv8.exe) –Ω–µ –Ω–∞–π–¥–µ–Ω
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ `.env`:
   ```ini
   V8_PATH=C:\Program Files\1cv8\8.3.24.1467\bin\1cv8.exe
   ```

2. –ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:
   ```powershell
   -V8Path "C:\Program Files\1cv8\8.3.24.1467\bin\1cv8.exe"
   ```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

```
–û–®–ò–ë–ö–ê: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: FormContextCollector.epf
```

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É:
```powershell
cd tools\form-context
.\build-epf.bat
```

### –¢–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è

```
–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –ü—Ä–µ–≤—ã—à–µ–Ω —Ç–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è
```

**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç:
```powershell
-Timeout 600  # 10 –º–∏–Ω—É—Ç
```

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –°–±–æ—Ä –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–æ—Ä–º

```powershell
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–æ—Ä–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
$forms = @(
    "–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è",
    "–î–æ–∫—É–º–µ–Ω—Ç.–†–µ–∞–ª–∏–∑–∞—Ü–∏—è–¢–æ–≤–∞—Ä–æ–≤–£—Å–ª—É–≥",
    "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã",
    "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞"
)

.\tools\form-context\form_context_agent.ps1 `
    -Forms $forms `
    -Wait
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```powershell
# –ú–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏
# –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º –∏–∑ git –∏–∑–º–µ–Ω–µ–Ω–∏–π
$changedForms = git diff --name-only HEAD~1 | 
    Where-Object { $_ -match '–§–æ—Ä–º–∞\.xml$' } |
    ForEach-Object { 
        # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –ø—É—Ç—å –≤ –∏–º—è —Ñ–æ—Ä–º—ã
        # TODO: –ª–æ–≥–∏–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
    }

.\tools\form-context\form_context_agent.ps1 `
    -Forms $changedForms `
    -Wait
```

### –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```powershell
# –†–∞–∑–±–∏—Ç—å –Ω–∞ —á–∞—Å—Ç–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å
Get-Content all_forms.txt | 
    Select-Object -First 10 | 
    Out-File batch1.txt -Encoding UTF8

.\tools\form-context\form_context_agent.ps1 `
    -FormsFile "batch1.txt" `
    -Wait

# –°–ª–µ–¥—É—é—â–∞—è –ø–∞—Ä—Ç–∏—è
Get-Content all_forms.txt | 
    Select-Object -Skip 10 -First 10 | 
    Out-File batch2.txt -Encoding UTF8

.\tools\form-context\form_context_agent.ps1 `
    -FormsFile "batch2.txt" `
    -Wait
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [`AGENT_MODE_GUIDE.md`](AGENT_MODE_GUIDE.md) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [`README.md`](README.md) - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [`.env.example`](../../.env.example) - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** –ù–æ—è–±—Ä—å 2025