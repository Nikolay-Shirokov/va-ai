# –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Form Context Collector

> **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Vanessa Automation**

---

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–±–æ—Ä–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ñ–æ—Ä–º 1–° —Å –¥–≤—É–º—è —Ä–µ–∂–∏–º–∞–º–∏ —Ä–∞–±–æ—Ç—ã:

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ä—É—á–Ω—É—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–µ —Ñ–æ—Ä–º—ã –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –∏—Ö –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ

### –ê–≥–µ–Ω—Ç—Å–∫–∏–π —Ä–µ–∂–∏–º  
Python CLI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç 1–°, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

```mermaid
graph TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—ã –≤ 1–°] --> B[–ó–∞–ø—É—Å–∫–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É]
    B --> C[–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ task.json]
    C --> D[–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–æ—Ä–º]
    D --> E[–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å –≥–∞–ª–æ—á–∫–∞–º–∏]
    E --> F[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—ã–µ —Ñ–æ—Ä–º—ã]
    F --> G[–ù–∞–∂–∏–º–∞–µ—Ç –°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç]
    G --> H[–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ]
    H --> I[–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JSON + Markdown]
    I --> J[–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∫–æ—Ä–Ω–µ–≤–æ–π context/forms/]
    J --> K[–û–±–Ω–æ–≤–ª—è–µ—Ç index.json]
```

### –ê–≥–µ–Ω—Ç—Å–∫–∏–π —Ä–µ–∂–∏–º

```mermaid
graph TD
    A[Python CLI] --> B[–°–æ–∑–¥–∞–µ—Ç tools/form-context/agent/task.json]
    B --> C[–ó–∞–ø—É—Å–∫–∞–µ—Ç 1–° —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π]
    C --> D[–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç task.json]
    D --> E[–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –≤ task.json.processing]
    E --> F[–û—Ç–∫—Ä—ã–≤–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã]
    F --> G[–°–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—Å–µ—Ö —Ñ–æ—Ä–º]
    G --> H[–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JSON + Markdown]
    H --> I[–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∫–æ—Ä–Ω–µ–≤–æ–π context/forms/]
    I --> J[–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –≤ task.json.completed]
    J --> K[–ó–∞–∫—Ä—ã–≤–∞–µ—Ç 1–°]
```

---

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ 1–° (FormContextCollector.epf)

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `tools/form-context/FormContextCollector.epf`

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–æ—Ä–º

```bsl
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–°–ø–∏—Å–æ–∫–û—Ç–∫—Ä—ã—Ç—ã—Ö–§–æ—Ä–º()
    –°–ø–∏—Å–æ–∫–§–æ—Ä–º = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    
    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –æ–∫–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    –í—Å–µ–û–∫–Ω–∞ = –ü–æ–ª—É—á–∏—Ç—å–û–∫–Ω–∞();
    
    –î–ª—è –ö–∞–∂–¥–æ–≥–æ –û–∫–Ω–æ –ò–∑ –í—Å–µ–û–∫–Ω–∞ –¶–∏–∫–ª
        // –ü–æ–ª—É—á–∞–µ–º —Ñ–æ—Ä–º—ã –≤ –æ–∫–Ω–µ
        –ú–∞—Å—Å–∏–≤–§–æ—Ä–º = –û–∫–Ω–æ.–°–æ–¥–µ—Ä–∂–∏–º–æ–µ;
        
        –î–ª—è –ö–∞–∂–¥–æ–≥–æ –§–æ—Ä–º–∞ –ò–∑ –ú–∞—Å—Å–∏–≤–§–æ—Ä–º –¶–∏–∫–ª
            –ò–Ω—Ñ–æ–§–æ—Ä–º—ã = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
            –ò–Ω—Ñ–æ–§–æ—Ä–º—ã.–í—Å—Ç–∞–≤–∏—Ç—å("–ó–∞–≥–æ–ª–æ–≤–æ–∫", –§–æ—Ä–º–∞.–ó–∞–≥–æ–ª–æ–≤–æ–∫);
            –ò–Ω—Ñ–æ–§–æ—Ä–º—ã.–í—Å—Ç–∞–≤–∏—Ç—å("–ò–º—è–§–æ—Ä–º—ã", –ü–æ–ª—É—á–∏—Ç—å–ü–æ–ª–Ω–æ–µ–ò–º—è–§–æ—Ä–º—ã(–§–æ—Ä–º–∞));
            –ò–Ω—Ñ–æ–§–æ—Ä–º—ã.–í—Å—Ç–∞–≤–∏—Ç—å("–¢–∏–ø–§–æ—Ä–º—ã", –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å–¢–∏–ø–§–æ—Ä–º—ã(–§–æ—Ä–º–∞));
            –ò–Ω—Ñ–æ–§–æ—Ä–º—ã.–í—Å—Ç–∞–≤–∏—Ç—å("–°—Å—ã–ª–∫–∞–ù–∞–§–æ—Ä–º—É", –§–æ—Ä–º–∞);
            
            –°–ø–∏—Å–æ–∫–§–æ—Ä–º.–î–æ–±–∞–≤–∏—Ç—å(–ò–Ω—Ñ–æ–§–æ—Ä–º—ã);
        –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
    –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
    
    –í–æ–∑–≤—Ä–∞—Ç –°–ø–∏—Å–æ–∫–§–æ—Ä–º;
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

#### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—É—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

```bsl
&–ù–∞–°–µ—Ä–≤–µ—Ä–µ
–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–ü—É—Ç—å–ö–æ–Ω—Ç–µ–∫—Å—Ç–∞()
    // –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –æ–±—Ä–∞–±–æ—Ç–∫–∏
    –ü—É—Ç—å–ö–û–±—Ä–∞–±–æ—Ç–∫–µ = –≠—Ç–æ—Ç–û–±—ä–µ–∫—Ç.–ò—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ–ò–º—è–§–∞–π–ª–∞;
    
    // –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
    –§–∞–π–ª–û–±—Ä–∞–±–æ—Ç–∫–∏ = –ù–æ–≤—ã–π –§–∞–π–ª(–ü—É—Ç—å–ö–û–±—Ä–∞–±–æ—Ç–∫–µ);
    –ö–∞—Ç–∞–ª–æ–≥–û–±—Ä–∞–±–æ—Ç–∫–∏ = –§–∞–π–ª–û–±—Ä–∞–±–æ—Ç–∫–∏.–ü—É—Ç—å;
    
    // –ü–æ–¥–Ω–∏–º–∞–µ–º—Å—è –Ω–∞ 2 —É—Ä–æ–≤–Ω—è –≤–≤–µ—Ä—Ö –¥–æ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
    // tools/form-context/ -> tools/ -> –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
    –ö–∞—Ç–∞–ª–æ–≥Tools = –ù–æ–≤—ã–π –§–∞–π–ª(–ö–∞—Ç–∞–ª–æ–≥–û–±—Ä–∞–±–æ—Ç–∫–∏).–ü—É—Ç—å;
    –ö–æ—Ä–Ω–µ–≤–æ–π–ö–∞—Ç–∞–ª–æ–≥ = –ù–æ–≤—ã–π –§–∞–π–ª(–ö–∞—Ç–∞–ª–æ–≥Tools).–ü—É—Ç—å;
    
    // –§–æ—Ä–º–∏—Ä—É–µ–º –ø—É—Ç—å –∫ context/forms/ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
    –ü—É—Ç—å–ö–æ–Ω—Ç–µ–∫—Å—Ç–∞ = –ö–æ—Ä–Ω–µ–≤–æ–π–ö–∞—Ç–∞–ª–æ–≥ + "context" + –ü–æ–ª—É—á–∏—Ç—å–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–ü—É—Ç–∏() + "forms" + –ü–æ–ª—É—á–∏—Ç—å–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–ü—É—Ç–∏();
    
    // –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    –§–∞–π–ª = –ù–æ–≤—ã–π –§–∞–π–ª(–ü—É—Ç—å–ö–æ–Ω—Ç–µ–∫—Å—Ç–∞);
    –ï—Å–ª–∏ –ù–µ –§–∞–π–ª.–°—É—â–µ—Å—Ç–≤—É–µ—Ç() –¢–æ–≥–¥–∞
        –°–æ–∑–¥–∞—Ç—å–ö–∞—Ç–∞–ª–æ–≥(–ü—É—Ç—å–ö–æ–Ω—Ç–µ–∫—Å—Ç–∞);
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –í–æ–∑–≤—Ä–∞—Ç –ü—É—Ç—å–ö–æ–Ω—Ç–µ–∫—Å—Ç–∞;
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞

```bsl
&–ù–∞–°–µ—Ä–≤–µ—Ä–µ
–§—É–Ω–∫—Ü–∏—è –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å–ò–º—è–§–∞–π–ª–∞(–ü–æ–ª–Ω–æ–µ–ò–º—è–§–æ—Ä–º—ã)
    // –ü—Ä–∏–º–µ—Ä: "–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞"
    // –ò–ª–∏: "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–≠–ª–µ–º–µ–Ω—Ç–∞"
    
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–Ω–æ–µ –∏–º—è —Ñ–æ—Ä–º—ã –∫–∞–∫ –µ—Å—Ç—å
    –ò–º—è–§–∞–π–ª–∞ = –°—Ç—Ä–ó–∞–º–µ–Ω–∏—Ç—å(–ü–æ–ª–Ω–æ–µ–ò–º—è–§–æ—Ä–º—ã, "/", ".");
    –ò–º—è–§–∞–π–ª–∞ = –°—Ç—Ä–ó–∞–º–µ–Ω–∏—Ç—å(–ò–º—è–§–∞–π–ª–∞, "\", ".");
    
    –í–æ–∑–≤—Ä–∞—Ç –ò–º—è–§–∞–π–ª–∞;
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Markdown

```bsl
&–ù–∞–°–µ—Ä–≤–µ—Ä–µ
–§—É–Ω–∫—Ü–∏—è –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—åMarkdown(–î–∞–Ω–Ω—ã–µ–§–æ—Ä–º—ã)
    –†–µ–∑—É–ª—å—Ç–∞—Ç = "";
    
    // –ó–∞–≥–æ–ª–æ–≤–æ–∫
    –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "# –§–æ—Ä–º–∞: " + –î–∞–Ω–Ω—ã–µ–§–æ—Ä–º—ã.title + –°–∏–º–≤–æ–ª—ã.–ü–° + –°–∏–º–≤–æ–ª—ã.–ü–°;
    –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "**–ü–æ–ª–Ω–æ–µ –∏–º—è:** `" + –î–∞–Ω–Ω—ã–µ–§–æ—Ä–º—ã.form_name + "`" + –°–∏–º–≤–æ–ª—ã.–ü–°;
    –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "**–¢–∏–ø:** " + –î–∞–Ω–Ω—ã–µ–§–æ—Ä–º—ã.form_type + –°–∏–º–≤–æ–ª—ã.–ü–°;
    –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "**–°–æ–±—Ä–∞–Ω–æ:** " + –§–æ—Ä–º–∞—Ç(–î–∞–Ω–Ω—ã–µ–§–æ—Ä–º—ã.metadata.collected_at, "–î–§='dd.MM.yyyy HH:mm'") + –°–∏–º–≤–æ–ª—ã.–ü–° + –°–∏–º–≤–æ–ª—ã.–ü–°;
    –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "---" + –°–∏–º–≤–æ–ª—ã.–ü–° + –°–∏–º–≤–æ–ª—ã.–ü–°;
    
    // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ —Ç–∏–ø–∞–º
    –ü–æ–ª—è–í–≤–æ–¥–∞ = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    –ö–Ω–æ–ø–∫–∏ = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    –¢–∞–±–ª–∏—Ü—ã = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    
    –î–ª—è –ö–∞–∂–¥–æ–≥–æ –≠–ª–µ–º–µ–Ω—Ç –ò–∑ –î–∞–Ω–Ω—ã–µ–§–æ—Ä–º—ã.elements –¶–∏–∫–ª
        –ï—Å–ª–∏ –≠–ª–µ–º–µ–Ω—Ç.type = "input_field" –¢–æ–≥–¥–∞
            –ü–æ–ª—è–í–≤–æ–¥–∞.–î–æ–±–∞–≤–∏—Ç—å(–≠–ª–µ–º–µ–Ω—Ç);
        –ò–Ω–∞—á–µ–ï—Å–ª–∏ –≠–ª–µ–º–µ–Ω—Ç.type = "button" –¢–æ–≥–¥–∞
            –ö–Ω–æ–ø–∫–∏.–î–æ–±–∞–≤–∏—Ç—å(–≠–ª–µ–º–µ–Ω—Ç);
        –ò–Ω–∞—á–µ–ï—Å–ª–∏ –≠–ª–µ–º–µ–Ω—Ç.type = "table" –¢–æ–≥–¥–∞
            –¢–∞–±–ª–∏—Ü—ã.–î–æ–±–∞–≤–∏—Ç—å(–≠–ª–µ–º–µ–Ω—Ç);
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
    
    // –ü–æ–ª—è –≤–≤–æ–¥–∞
    –ï—Å–ª–∏ –ü–æ–ª—è–í–≤–æ–¥–∞.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ() > 0 –¢–æ–≥–¥–∞
        –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "## üìù –ü–æ–ª—è —Ñ–æ—Ä–º—ã" + –°–∏–º–≤–æ–ª—ã.–ü–° + –°–∏–º–≤–æ–ª—ã.–ü–°;
        –î–ª—è –ö–∞–∂–¥–æ–≥–æ –ü–æ–ª–µ –ò–∑ –ü–æ–ª—è–í–≤–æ–¥–∞ –¶–∏–∫–ª
            –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "- `" + –ü–æ–ª–µ.name + "`";
            –ï—Å–ª–∏ –ù–µ –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–ü–æ–ª–µ.title) –ò –ü–æ–ª–µ.title <> –ü–æ–ª–µ.name –¢–æ–≥–¥–∞
                –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + " (""" + –ü–æ–ª–µ.title + """)";
            –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
            –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + –°–∏–º–≤–æ–ª—ã.–ü–°;
        –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
        –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + –°–∏–º–≤–æ–ª—ã.–ü–°;
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    // –¢–∞–±–ª–∏—Ü—ã
    –ï—Å–ª–∏ –¢–∞–±–ª–∏—Ü—ã.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ() > 0 –¢–æ–≥–¥–∞
        –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "## üìä –¢–∞–±–ª–∏—á–Ω—ã–µ —á–∞—Å—Ç–∏" + –°–∏–º–≤–æ–ª—ã.–ü–° + –°–∏–º–≤–æ–ª—ã.–ü–°;
        –î–ª—è –ö–∞–∂–¥–æ–≥–æ –¢–∞–±–ª–∏—Ü–∞ –ò–∑ –¢–∞–±–ª–∏—Ü—ã –¶–∏–∫–ª
            –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "### " + –¢–∞–±–ª–∏—Ü–∞.name;
            –ï—Å–ª–∏ –ù–µ –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–¢–∞–±–ª–∏—Ü–∞.title) –¢–æ–≥–¥–∞
                –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + " (""" + –¢–∞–±–ª–∏—Ü–∞.title + """)";
            –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
            –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + –°–∏–º–≤–æ–ª—ã.–ü–° + –°–∏–º–≤–æ–ª—ã.–ü–°;
            
            // –ö–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –±—É–¥—É—Ç –≤ children
            –ï—Å–ª–∏ –¢–∞–±–ª–∏—Ü–∞.–°–≤–æ–π—Å—Ç–≤–æ("children") –¢–æ–≥–¥–∞
                –î–ª—è –ö–∞–∂–¥–æ–≥–æ –ö–æ–ª–æ–Ω–∫–∞ –ò–∑ –¢–∞–±–ª–∏—Ü–∞.children –¶–∏–∫–ª
                    –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "- `" + –ö–æ–ª–æ–Ω–∫–∞.name + "`";
                    –ï—Å–ª–∏ –ù–µ –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–ö–æ–ª–æ–Ω–∫–∞.title) –¢–æ–≥–¥–∞
                        –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + " (""" + –ö–æ–ª–æ–Ω–∫–∞.title + """)";
                    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
                    –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + –°–∏–º–≤–æ–ª—ã.–ü–°;
                –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
            –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
            –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + –°–∏–º–≤–æ–ª—ã.–ü–°;
        –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    // –ö–Ω–æ–ø–∫–∏
    –ï—Å–ª–∏ –ö–Ω–æ–ø–∫–∏.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ() > 0 –¢–æ–≥–¥–∞
        –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "## üîò –ö–æ–º–∞–Ω–¥—ã" + –°–∏–º–≤–æ–ª—ã.–ü–° + –°–∏–º–≤–æ–ª—ã.–ü–°;
        –î–ª—è –ö–∞–∂–¥–æ–≥–æ –ö–Ω–æ–ø–∫–∞ –ò–∑ –ö–Ω–æ–ø–∫–∏ –¶–∏–∫–ª
            –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "- `" + –ö–Ω–æ–ø–∫–∞.name + "`";
            –ï—Å–ª–∏ –ù–µ –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–ö–Ω–æ–ø–∫–∞.title) –¢–æ–≥–¥–∞
                –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + " (""" + –ö–Ω–æ–ø–∫–∞.title + """)";
            –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
            –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + –°–∏–º–≤–æ–ª—ã.–ü–°;
        –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
        –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + –°–∏–º–≤–æ–ª—ã.–ü–°;
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "---" + –°–∏–º–≤–æ–ª—ã.–ü–° + –°–∏–º–≤–æ–ª—ã.–ü–°;
    –†–µ–∑—É–ª—å—Ç–∞—Ç = –†–µ–∑—É–ª—å—Ç–∞—Ç + "**–í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:** " + –§–æ—Ä–º–∞—Ç(–î–∞–Ω–Ω—ã–µ–§–æ—Ä–º—ã.elements.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ(), "–ß–ì=") + –°–∏–º–≤–æ–ª—ã.–ü–°;
    
    –í–æ–∑–≤—Ä–∞—Ç –†–µ–∑—É–ª—å—Ç–∞—Ç;
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

### 2. UI —Ñ–æ—Ä–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–≠–ª–µ–º–µ–Ω—Ç—ã —Ñ–æ—Ä–º—ã:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Form Context Collector                                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                          ‚îÇ
‚îÇ –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π / –ê–≥–µ–Ω—Ç—Å–∫–∏–π (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ [–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º]                                   ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ ‚îÇ‚òë‚îÇ –ó–∞–≥–æ–ª–æ–≤–æ–∫           ‚îÇ –í–∏–¥ –æ–±—ä–µ–∫—Ç–∞   ‚îÇ –¢–∏–ø —Ñ–æ—Ä–º—ã   ‚îÇ‚îÇ
‚îÇ ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§‚îÇ
‚îÇ ‚îÇ‚òë‚îÇ –ó–∞–∫–∞–∑ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è    ‚îÇ –î–æ–∫—É–º–µ–Ω—Ç      ‚îÇ –§–æ—Ä–º–∞–î–æ–∫—É–º..‚îÇ‚îÇ
‚îÇ ‚îÇ‚òê‚îÇ –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç          ‚îÇ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫    ‚îÇ –§–æ—Ä–º–∞–≠–ª–µ–º–µ..‚îÇ‚îÇ
‚îÇ ‚îÇ‚òë‚îÇ –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤      ‚îÇ –î–æ–∫—É–º–µ–Ω—Ç      ‚îÇ –§–æ—Ä–º–∞–°–ø–∏—Å–∫..‚îÇ‚îÇ
‚îÇ ‚îÇ‚òê‚îÇ –û—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤     ‚îÇ –û—Ç—á–µ—Ç         ‚îÇ –§–æ—Ä–º–∞–û—Ç—á–µ—Ç..‚îÇ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ –ù–∞—Å—Ç—Ä–æ–π–∫–∏:                                               ‚îÇ
‚îÇ ‚òë –í–∫–ª—é—á–∞—Ç—å –Ω–µ–≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã                            ‚îÇ
‚îÇ ‚òë –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Markdown                                  ‚îÇ
‚îÇ –ü—É—Ç—å: [–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞/context/forms/]      [–í—ã–±—Ä–∞—Ç—å]    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ [–°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç]  [–û—á–∏—Å—Ç–∏—Ç—å]                           ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ                                   ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ ‚îÇ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–±–æ—Ä–∞:                                   ‚îÇ  ‚îÇ
‚îÇ ‚îÇ                                                     ‚îÇ  ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫ UI:**
- **"–í–∏–¥ –æ–±—ä–µ–∫—Ç–∞"** - –î–æ–∫—É–º–µ–Ω—Ç, –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫, –û—Ç—á–µ—Ç, –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç.–ø.
- **"–¢–∏–ø —Ñ–æ—Ä–º—ã"** - –§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞, –§–æ—Ä–º–∞–°–ø–∏—Å–∫–∞, –§–æ—Ä–º–∞–≠–ª–µ–º–µ–Ω—Ç–∞, –§–æ—Ä–º–∞–û—Ç—á–µ—Ç–∞, –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è–§–æ—Ä–º–∞ –∏ —Ç.–ø.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –ø–æ –Ω–∞–ª–∏—á–∏—é `agent/task.json`

### 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

#### –£–ø—Ä–∞–≤–ª—è—é—â–∏–π —Ñ–∞–π–ª (tools/form-context/agent/task.json)

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Ñ–∞–π–ª–∞ –≤ –∞–≥–µ–Ω—Ç—Å–∫–æ–º —Ä–µ–∂–∏–º–µ:**
1. Python CLI —Å–æ–∑–¥–∞–µ—Ç `task.json`
2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Ñ–∞–π–ª –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –≤ `task.json.processing`
3. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –≤ `task.json.completed`
4. –ü—Ä–∏ –æ—à–∏–±–∫–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –≤ `task.json.error`

**–≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç:**
- –ü–æ–≤—Ç–æ—Ä–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–æ–≥–æ –∂–µ –∑–∞–¥–∞–Ω–∏—è
- –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø—Ä–∏ —Ä—É—á–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º –∑–∞–ø—É—Å–∫–µ

**–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞:**

```json
{
  "version": "1.0",
  "mode": "agent",
  "forms": [
    {
      "type": "navigation_link",
      "value": "e1cib/data/–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è?ref=...",
      "form_name": "–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞"
    },
    {
      "type": "metadata_object",
      "value": "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã",
      "form_name": "–§–æ—Ä–º–∞–≠–ª–µ–º–µ–Ω—Ç–∞"
    },
    {
      "type": "form_path",
      "value": "–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–°–ø–∏—Å–∫–∞"
    }
  ],
  "options": {
    "include_invisible": false,
    "generate_markdown": true,
    "max_depth": 5,
    "close_after_collection": true
  },
  "output": {
    "path": "context/forms/",
    "update_index": true
  }
}
```

#### –†–µ–µ—Å—Ç—Ä —Ñ–æ—Ä–º (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞/context/forms/index.json)

```json
{
  "version": "1.0",
  "updated_at": "2025-11-29T15:00:00Z",
  "forms": {
    "–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞": {
      "title": "–ó–∞–∫–∞–∑ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è",
      "type": "document_form",
      "json_path": "–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞.json",
      "markdown_path": "–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞.md",
      "collected_at": "2025-11-29T14:30:00Z",
      "element_count": 25,
      "detail_level": "minimal"
    },
    "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–≠–ª–µ–º–µ–Ω—Ç–∞": {
      "title": "–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç",
      "type": "catalog_form",
      "json_path": "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–≠–ª–µ–º–µ–Ω—Ç–∞.json",
      "markdown_path": "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–≠–ª–µ–º–µ–Ω—Ç–∞.md",
      "collected_at": "2025-11-29T14:32:00Z",
      "element_count": 18,
      "detail_level": "minimal"
    }
  }
}
```

### 4. Python CLI (form_context_cli.py)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞:**

```bash
# –°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–æ—Ä–º
python tools/form-context/form_context_cli.py agent \
    --infobase "File=C:/Bases/Test/" \
    --forms "–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è" "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã"

# –° –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏
python tools/form-context/form_context_cli.py agent \
    --infobase "File=C:/Bases/Test/" \
    --links "e1cib/data/–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è?ref=..."

# –ò–∑ —Ñ–∞–π–ª–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º —Ñ–æ—Ä–º
python tools/form-context/form_context_cli.py agent \
    --infobase "File=C:/Bases/Test/" \
    --forms-file forms_to_collect.txt
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞ –∑–∞–ø—É—Å–∫–∞ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ:**

```bsl
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–§—É–Ω–∫—Ü–∏—è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å–†–µ–∂–∏–º–ó–∞–ø—É—Å–∫–∞()
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—É—Ç—å –∫ —É–ø—Ä–∞–≤–ª—è—é—â–µ–º—É —Ñ–∞–π–ª—É
    –ü—É—Ç—å–ö–û–±—Ä–∞–±–æ—Ç–∫–µ = –ü–æ–ª—É—á–∏—Ç—å–ü—É—Ç—å–ö–û–±—Ä–∞–±–æ—Ç–∫–µ–ù–∞–°–µ—Ä–≤–µ—Ä–µ();
    –§–∞–π–ª–û–±—Ä–∞–±–æ—Ç–∫–∏ = –ù–æ–≤—ã–π –§–∞–π–ª(–ü—É—Ç—å–ö–û–±—Ä–∞–±–æ—Ç–∫–µ);
    –ö–∞—Ç–∞–ª–æ–≥–û–±—Ä–∞–±–æ—Ç–∫–∏ = –§–∞–π–ª–û–±—Ä–∞–±–æ—Ç–∫–∏.–ü—É—Ç—å;
    
    –ü—É—Ç—å–öTaskJSON = –ö–∞—Ç–∞–ª–æ–≥–û–±—Ä–∞–±–æ—Ç–∫–∏ + "agent" + –ü–æ–ª—É—á–∏—Ç—å–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–ü—É—Ç–∏() + "task.json";
    
    –§–∞–π–ªTask = –ù–æ–≤—ã–π –§–∞–π–ª(–ü—É—Ç—å–öTaskJSON);
    
    –ï—Å–ª–∏ –§–∞–π–ªTask.–°—É—â–µ—Å—Ç–≤—É–µ—Ç() –¢–æ–≥–¥–∞
        // –ê–≥–µ–Ω—Ç—Å–∫–∏–π —Ä–µ–∂–∏–º - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º —Ñ–∞–π–ª
        –ù–æ–≤–æ–µ–ò–º—è = –ü—É—Ç—å–öTaskJSON + ".processing";
        –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å–§–∞–π–ª(–ü—É—Ç—å–öTaskJSON, –ù–æ–≤–æ–µ–ò–º—è);
        –í–æ–∑–≤—Ä–∞—Ç "agent";
    –ò–Ω–∞—á–µ
        // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
        –í–æ–∑–≤—Ä–∞—Ç "interactive";
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

**–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ CLI:**

```python
#!/usr/bin/env python3
"""
Form Context Collector - CLI –¥–ª—è –∞–≥–µ–Ω—Ç—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞
"""

import json
import subprocess
import sys
from pathlib import Path

def create_task_file(forms, options):
    """–°–æ–∑–¥–∞–µ—Ç —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Ñ–∞–π–ª task.json"""
    task = {
        "version": "1.0",
        "mode": "agent",
        "forms": forms,
        "options": options
    }
    
    task_file = Path(__file__).parent / "agent" / "task.json"
    task_file.parent.mkdir(exist_ok=True)
    
    with open(task_file, 'w', encoding='utf-8') as f:
        json.dump(task, f, ensure_ascii=False, indent=2)
    
    return task_file

def launch_1c_with_processing(infobase, processing_path):
    """–ó–∞–ø—É—Å–∫–∞–µ—Ç 1–° —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π"""
    cmd = [
        "1cv8",
        "ENTERPRISE",
        f"/F{infobase}",
        f"/Execute{processing_path}",
        "/C", "agent_mode"  # –ü–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è —Ä–µ–∂–∏–º–∞
    ]
    
    result = subprocess.run(cmd, capture_output=True, text=True)
    return result.returncode == 0

def main():
    import argparse
    
    parser = argparse.ArgumentParser(
        description="Form Context Collector - Agent Mode"
    )
    parser.add_argument("--infobase", required=True, help="Infobase connection string")
    parser.add_argument("--forms", nargs="+", help="List of forms to collect")
    parser.add_argument("--generate-markdown", action="store_true", default=True)
    
    args = parser.parse_args()
    
    # –§–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º
    forms = []
    for form in args.forms:
        forms.append({
            "type": "metadata_object",
            "value": form
        })
    
    # –°–æ–∑–¥–∞–µ–º task.json
    options = {
        "generate_markdown": args.generate_markdown,
        "close_after_collection": True
    }
    
    task_file = create_task_file(forms, options)
    print(f"Created task file: {task_file}")
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º 1–°
    processing_path = Path(__file__).parent / "FormContextCollector.epf"
    success = launch_1c_with_processing(args.infobase, processing_path)
    
    if success:
        print("Context collection completed successfully")
        return 0
    else:
        print("Error during context collection", file=sys.stderr)
        return 1

if __name__ == "__main__":
    sys.exit(main())
```

---

## üîÑ Workflow

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–µ —Ñ–æ—Ä–º—ã –≤ 1–°
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É FormContextCollector.epf

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞:**
   - –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–æ—Ä–º —á–µ—Ä–µ–∑ `–ü–æ–ª—É—á–∏—Ç—å–û–∫–Ω–∞()`
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å –≥–∞–ª–æ—á–∫–∞–º–∏
   - –ñ–¥–µ—Ç –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
   - –û—Ç–º–µ—á–∞–µ—Ç –Ω—É–∂–Ω—ã–µ —Ñ–æ—Ä–º—ã
   - –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç"

4. **–û–±—Ä–∞–±–æ—Ç–∫–∞:**
   - –î–ª—è –∫–∞–∂–¥–æ–π –æ—Ç–º–µ—á–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º—ã:
     - –°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ñ–æ—Ä–º–µ –∏ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
     - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JSON
     - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Markdown
     - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `context/forms/`
   - –û–±–Ω–æ–≤–ª—è–µ—Ç `index.json`
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ê–≥–µ–Ω—Ç—Å–∫–∏–π —Ä–µ–∂–∏–º

1. **Python CLI:**
   - –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º –∏–ª–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
   - –°–æ–∑–¥–∞–µ—Ç `agent/task.json`
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç 1–° —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞:**
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (–∞–≥–µ–Ω—Ç—Å–∫–∏–π)
   - –ß–∏—Ç–∞–µ—Ç `agent/task.json`
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –æ–¥–Ω—É –∑–∞ –¥—Ä—É–≥–æ–π
   - –î–ª—è –∫–∞–∂–¥–æ–π —Ñ–æ—Ä–º—ã —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - –ó–∞–∫—Ä—ã–≤–∞–µ—Ç 1–°

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### ‚úÖ –ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç Vanessa Automation
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ 1–°
- –ú–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å
- –î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã –Ω–∞ –≤—ã–±–æ—Ä
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–ª—è —Ä–∞–∑–æ–≤–æ–≥–æ —Å–±–æ—Ä–∞
- –ê–≥–µ–Ω—Ç—Å–∫–∏–π –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞
- –ü–æ–Ω—è—Ç–Ω—ã–π UI
- –ü—Ä—è–º–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–∞–π–ª—ã
- –°—Ä–∞–∑—É –≥–æ—Ç–æ–≤—ã–π Markdown

### ‚úÖ –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Ñ–∞–π–ª
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
va-ai/                                # –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ context/                          # ‚Üê –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–±–æ—Ä–∞ (–≤ .gitignore)
‚îÇ   ‚îú‚îÄ‚îÄ forms/                        # JSON + Markdown —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ –î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ –î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞.md
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.json               # –†–µ–µ—Å—Ç—Ä –≤—Å–µ—Ö —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º
‚îÇ   ‚îî‚îÄ‚îÄ .gitkeep
‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îî‚îÄ‚îÄ form-context/
‚îÇ       ‚îú‚îÄ‚îÄ FormContextCollector.epf  # –û–±—Ä–∞–±–æ—Ç–∫–∞ 1–°
‚îÇ       ‚îú‚îÄ‚îÄ form_context_cli.py       # Python CLI
‚îÇ       ‚îú‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ SIMPLIFIED_ARCHITECTURE.md # –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
‚îÇ       ‚îú‚îÄ‚îÄ agent/                    # –î–ª—è –∞–≥–µ–Ω—Ç—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ task.json             # –£–ø—Ä–∞–≤–ª—è—é—â–∏–π —Ñ–∞–π–ª (—Å–æ–∑–¥–∞–µ—Ç—Å—è CLI)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ task.json.processing  # –í–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ task.json.completed   # –ü–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ task.json.error       # –ü—Ä–∏ –æ—à–∏–±–∫–µ
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ .gitkeep
‚îÇ       ‚îî‚îÄ‚îÄ src/                      # –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îÇ           ‚îî‚îÄ‚îÄ FormContextCollector/
‚îî‚îÄ‚îÄ .gitignore                        # context/ –≤ –∏–≥–Ω–æ—Ä–µ
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ö–∞—Ç–∞–ª–æ–≥ `context/` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ **–∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**, –∞ –Ω–µ –≤ `tools/form-context/`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—É—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ø–æ–¥–Ω–∏–º–∞—è—Å—å –Ω–∞ 2 —É—Ä–æ–≤–Ω—è –≤–≤–µ—Ä—Ö
- –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ `tools/form-context/agent/`
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ `task.json` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –∑–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞

---

## üöÄ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (1-2 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
1. ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç)
2. ‚¨ú –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–æ—Ä–º
3. ‚¨ú UI —Å —Ç–∞–±–ª–∏—Ü–µ–π –∏ –≥–∞–ª–æ—á–∫–∞–º–∏
4. ‚¨ú –ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫"
5. ‚¨ú –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—É—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
6. ‚¨ú –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤
7. ‚¨ú –°–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º
8. ‚¨ú –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON
9. ‚¨ú –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Markdown
10. ‚¨ú –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
11. ‚¨ú –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ index.json
12. ‚¨ú –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—Ç–∞—é—â–∏–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

### –≠—Ç–∞–ø 2: –ê–≥–µ–Ω—Ç—Å–∫–∏–π —Ä–µ–∂–∏–º (1 –¥–µ–Ω—å)

**–ó–∞–¥–∞—á–∏:**
1. ‚¨ú –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã task.json
2. ‚¨ú –ß—Ç–µ–Ω–∏–µ task.json –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ
3. ‚¨ú –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–æ—Ä–º
4. ‚¨ú –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –≤—Å–µ—Ö —Ñ–æ—Ä–º
5. ‚¨ú –ó–∞–∫—Ä—ã—Ç–∏–µ 1–° –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
6. ‚¨ú Python CLI (–±–∞–∑–æ–≤—ã–π)
7. ‚¨ú –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—Ç–∞—é—â–∏–π –∞–≥–µ–Ω—Ç—Å–∫–∏–π —Ä–µ–∂–∏–º

### –≠—Ç–∞–ø 3: –î–æ—Ä–∞–±–æ—Ç–∫–∏ (0.5 –¥–Ω—è)

**–ó–∞–¥–∞—á–∏:**
1. ‚¨ú –£–ª—É—á—à–µ–Ω–∏–µ UI
2. ‚¨ú –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
3. ‚¨ú –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
4. ‚¨ú –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
5. ‚¨ú –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ì–æ—Ç–æ–≤–æ–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ä–µ—à–µ–Ω–∏–µ

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

```gherkin
# Scenario: –°–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–æ—Ä–º

1. –û—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—ã:
   - –î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è
   - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã
   - –û—Ç—á–µ—Ç.–û—Å—Ç–∞—Ç–∫–∏–¢–æ–≤–∞—Ä–æ–≤

2. –ó–∞–ø—É—Å—Ç–∏—Ç—å FormContextCollector.epf

3. –í —Ç–∞–±–ª–∏—Ü–µ –æ—Ç–º–µ—Ç–∏—Ç—å –≥–∞–ª–æ—á–∫–∞–º–∏:
   ‚òë –ó–∞–∫–∞–∑ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
   ‚òë –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç
   ‚òê –û—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤

4. –ù–∞–∂–∞—Ç—å "–°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç"

5. –†–µ–∑—É–ª—å—Ç–∞—Ç:
   ‚úì context/forms/–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞.json
   ‚úì context/forms/–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞.md
   ‚úì context/forms/–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–≠–ª–µ–º–µ–Ω—Ç–∞.json
   ‚úì context/forms/–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–§–æ—Ä–º–∞.–§–æ—Ä–º–∞–≠–ª–µ–º–µ–Ω—Ç–∞.md
   ‚úì context/forms/index.json –æ–±–Ω–æ–≤–ª–µ–Ω
```

### –ê–≥–µ–Ω—Ç—Å–∫–∏–π —Ä–µ–∂–∏–º

```bash
# –°–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º
cat > forms.txt << EOF
–î–æ–∫—É–º–µ–Ω—Ç.–ó–∞–∫–∞–∑–ü–æ–∫—É–ø–∞—Ç–µ–ª—è
–î–æ–∫—É–º–µ–Ω—Ç.–†–µ–∞–ª–∏–∑–∞—Ü–∏—è–¢–æ–≤–∞—Ä–æ–≤–£—Å–ª—É–≥
–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã
–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞
EOF

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä
python tools/form-context/form_context_cli.py agent \
    --infobase "File=C:/Bases/Trade/" \
    --forms-file forms.txt \
    --generate-markdown

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ —Ñ–æ—Ä–º—ã —Å–æ–±—Ä–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –∏–º–µ–Ω–∏ —Ñ–æ—Ä–º—ã

```bsl
–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–ü–æ–ª–Ω–æ–µ–ò–º—è–§–æ—Ä–º—ã(–§–æ—Ä–º–∞)
    –ü–æ–ø—ã—Ç–∫–∞
        // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –∏–º—è —Ñ–æ—Ä–º—ã —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ
        –ï—Å–ª–∏ –§–æ—Ä–º–∞.–°–≤–æ–π—Å—Ç–≤–æ("–ò–º—è–§–æ—Ä–º—ã") –¢–æ–≥–¥–∞
            –í–æ–∑–≤—Ä–∞—Ç –°—Ç—Ä–æ–∫–∞(–§–æ—Ä–º–∞.–ò–º—è–§–æ—Ä–º—ã);
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
        
        // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± —á–µ—Ä–µ–∑ –æ–∫–Ω–æ
        –ò–º—è–û–∫–Ω–∞ = –°—Ç—Ä–æ–∫–∞(–§–æ—Ä–º–∞.–ó–∞–≥–æ–ª–æ–≤–æ–∫);
        
        // TODO: –ø–∞—Ä—Å–∏–Ω–≥ –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã
        –í–æ–∑–≤—Ä–∞—Ç –ò–º—è–û–∫–Ω–∞;
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        –í–æ–∑–≤—Ä–∞—Ç "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞";
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ñ–æ—Ä–º—ã –∏ –≤–∏–¥–∞ –æ–±—ä–µ–∫—Ç–∞

```bsl
&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–¢–∏–ø–§–æ—Ä–º—ã(–§–æ—Ä–º–∞)
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø —Ñ–æ—Ä–º—ã: –§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞, –§–æ—Ä–º–∞–°–ø–∏—Å–∫–∞, –§–æ—Ä–º–∞–≠–ª–µ–º–µ–Ω—Ç–∞ –∏ —Ç.–ø.
    –ü–æ–ø—ã—Ç–∫–∞
        –ò–º—è–§–æ—Ä–º—ã = –°—Ç—Ä–æ–∫–∞(–§–æ—Ä–º–∞.–ò–º—è–§–æ—Ä–º—ã);
        
        // –ò–∑–≤–ª–µ–∫–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é —á–∞—Å—Ç—å –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏
        –ß–∞—Å—Ç–∏ = –°—Ç—Ä–†–∞–∑–¥–µ–ª–∏—Ç—å(–ò–º—è–§–æ—Ä–º—ã, ".", –õ–æ–∂—å);
        –ï—Å–ª–∏ –ß–∞—Å—Ç–∏.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ() > 0 –¢–æ–≥–¥–∞
            –¢–∏–ø–§–æ—Ä–º—ã = –ß–∞—Å—Ç–∏[–ß–∞—Å—Ç–∏.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ() - 1];
            –í–æ–∑–≤—Ä–∞—Ç –¢–∏–ø–§–æ—Ä–º—ã; // –§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞, –§–æ—Ä–º–∞–°–ø–∏—Å–∫–∞ –∏ —Ç.–¥.
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
        
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
    
    –í–æ–∑–≤—Ä–∞—Ç "–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è–§–æ—Ä–º–∞";
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

&–ù–∞–ö–ª–∏–µ–Ω—Ç–µ
–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–í–∏–¥–û–±—ä–µ–∫—Ç–∞(–§–æ—Ä–º–∞)
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∏–¥ –æ–±—ä–µ–∫—Ç–∞: –î–æ–∫—É–º–µ–Ω—Ç, –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫, –û—Ç—á–µ—Ç –∏ —Ç.–ø.
    –ü–æ–ø—ã—Ç–∫–∞
        –ò–º—è–§–æ—Ä–º—ã = –°—Ç—Ä–æ–∫–∞(–§–æ—Ä–º–∞.–ò–º—è–§–æ—Ä–º—ã);
        
        // –ò—â–µ–º –ø–µ—Ä–≤—É—é —á–∞—Å—Ç—å –¥–æ –ø–µ—Ä–≤–æ–π —Ç–æ—á–∫–∏
        –ï—Å–ª–∏ –°—Ç—Ä–ù–∞–π—Ç–∏(–ò–º—è–§–æ—Ä–º—ã, "–î–æ–∫—É–º–µ–Ω—Ç.") = 1 –¢–æ–≥–¥–∞
            –í–æ–∑–≤—Ä–∞—Ç "–î–æ–∫—É–º–µ–Ω—Ç";
        –ò–Ω–∞—á–µ–ï—Å–ª–∏ –°—Ç—Ä–ù–∞–π—Ç–∏(–ò–º—è–§–æ—Ä–º—ã, "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.") = 1 –¢–æ–≥–¥–∞
            –í–æ–∑–≤—Ä–∞—Ç "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫";
        –ò–Ω–∞—á–µ–ï—Å–ª–∏ –°—Ç—Ä–ù–∞–π—Ç–∏(–ò–º—è–§–æ—Ä–º—ã, "–û—Ç—á–µ—Ç.") = 1 –¢–æ–≥–¥–∞
            –í–æ–∑–≤—Ä–∞—Ç "–û—Ç—á–µ—Ç";
        –ò–Ω–∞—á–µ–ï—Å–ª–∏ –°—Ç—Ä–ù–∞–π—Ç–∏(–ò–º—è–§–æ—Ä–º—ã, "–û–±—Ä–∞–±–æ—Ç–∫–∞.") = 1 –¢–æ–≥–¥–∞
            –í–æ–∑–≤—Ä–∞—Ç "–û–±—Ä–∞–±–æ—Ç–∫–∞";
        –ò–Ω–∞—á–µ–ï—Å–ª–∏ –°—Ç—Ä–ù–∞–π—Ç–∏(–ò–º—è–§–æ—Ä–º—ã, "–†–µ–≥–∏—Å—Ç—Ä–°–≤–µ–¥–µ–Ω–∏–π.") = 1 –¢–æ–≥–¥–∞
            –í–æ–∑–≤—Ä–∞—Ç "–†–µ–≥–∏—Å—Ç—Ä–°–≤–µ–¥–µ–Ω–∏–π";
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
        
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
    
    –í–æ–∑–≤—Ä–∞—Ç "–ü—Ä–æ—á–µ–µ";
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ index.json

```bsl
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û–±–Ω–æ–≤–∏—Ç—å–ò–Ω–¥–µ–∫—Å–§–æ—Ä–º(–ù–æ–≤–∞—è–§–æ—Ä–º–∞, –ü—É—Ç—å–ö–ò–Ω–¥–µ–∫—Å—É)
    // –ß–∏—Ç–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–Ω–¥–µ–∫—Å
    –ò–Ω–¥–µ–∫—Å = –ü—Ä–æ—á–∏—Ç–∞—Ç—å–ò–Ω–¥–µ–∫—Å(–ü—É—Ç—å–ö–ò–Ω–¥–µ–∫—Å—É);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å
    –ò–Ω–¥–µ–∫—Å.forms.–í—Å—Ç–∞–≤–∏—Ç—å(–ù–æ–≤–∞—è–§–æ—Ä–º–∞.form_name, –ù–æ–≤–∞—è–§–æ—Ä–º–∞.metadata);
    –ò–Ω–¥–µ–∫—Å.updated_at = –¢–µ–∫—É—â–∞—è–î–∞—Ç–∞–°–µ–∞–Ω—Å–∞();
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º
    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å–ò–Ω–¥–µ–∫—Å(–ò–Ω–¥–µ–∫—Å, –ü—É—Ç—å–ö–ò–Ω–¥–µ–∫—Å—É);
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

---

**–î–æ–∫—É–º–µ–Ω—Ç:** v1.0  
**–î–∞—Ç–∞:** 2025-11-29  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏